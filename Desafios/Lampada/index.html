<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lampada-teste</title>

    <style>

    h1 {
       font-variant: small-caps;  
    }

     header,main {
        display: flex;
        flex-direction: column;
        align-items: center;
     }   
    </style>


</head>
<body>
    <header>
        <h1>Teste lampada</h1>
    </header>

    <main>
        <div>
            <img id="lamp-img" src="img/desligada.jpg" alt="desligada">
        </div>
        <h1>
            <input type="button"  value="Ligada" onclick="on ()">
            <input type="button"  value="desligada" onclick="off ()">
        </h1>

    </main>

    <script>

        function islampdead () {
            return document.getElementById("lamp-img").src.indexOf ('quebrada') > -1
        }
        function on () {

         if (!islampdead () ) {   
            document.getElementById("lamp-img").src = "img/ligada.jpg" 
        }
        }

        function off () {

        if (!islampdead () ) {  
            document.querySelector("#lamp-img").src = "img/desligada.jpg"
        }    
        }

        function lampdead () {
            document.querySelector("#lamp-img").src = "img/quebrada.jpg"
            
        }

        document.getElementById('lamp-img').addEventListener ('mouseover',on );
        document.getElementById('lamp-img').addEventListener ('mouseleave',off );
        document.getElementById('lamp-img').addEventListener ('dblclick',lampdead);
        

        
    </script>
    
    
</body>
</html>